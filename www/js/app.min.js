angular.module("Skillopedia",["ngRoute","LocalStorageModule"]).config(["$routeProvider","$httpProvider","$locationProvider","localStorageServiceProvider","config",function(e,o,r,t,l){angular.forEach(l.interceptor,function(o){var r=o.replace(/_[a-z]/g,function(e){return e.split("_")[1].toUpperCase()});r+="Controller",e.when("/"+o,{templateUrl:"templates/"+o+".html",reloadOnSearch:!1,controller:r})}),e.otherwise("/index"),o.defaults.useXDomain=!0,o.defaults.withCredentials=!0,delete o.defaults.headers.common["X-Requested-With"],t.setStorageCookie(.02),o.interceptors.push("tokenInterceptor")}]).run(["appServices",function(e){e.init()}]),angular.module("Skillopedia").controller("supportController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("stepsPublishController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("stepDraftController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("stepsController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("signinController",["$scope","$route","$window","errorServices","toastServices","localStorageService","config",function(e,o,r){e.ajaxForm=function(){r.location.href="#/account",$.magnificPopup.close()}}]),angular.module("Skillopedia").controller("sidebarController",["$scope","$route","$location","errorServices","toastServices","localStorageService","config",function(e,o,r){console.log("sidebar"),e.highlight=function(e){return e==r.path()?!0:!1}}]),angular.module("Skillopedia").controller("shoppingcartController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("servicesController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("scheduleController",["$scope","errorServices","toastServices","localStorageService","config",function(e){e.calendar={mode:"edit",times:[{hour:"00:00-08:30",plan:"free time",state:"1"},{hour:"08:30-09:00",plan:"free time",state:"3"},{hour:"09:00-08:30",plan:"free time",state:"1"},{hour:"10:30-09:00",plan:"free time",state:"1"},{hour:"11:00-08:30",plan:"free time",state:"1"},{hour:"12:00-08:30",plan:"free time",state:"1"},{hour:"13:30-09:00",plan:"free time",state:"1"},{hour:"14:00-08:30",plan:"free time",state:"1"}]}}]),angular.module("Skillopedia").controller("privacyController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("ordersManagementController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("ordersController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("orderRefundController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("orderManagementController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("orderFinishController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("orderController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("orderConfirmController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("orderCommentController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("orderCancelController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("orderBookingController",["$scope","errorServices","toastServices","localStorageService","config",function(e){e.calendar={times:[{hour:"00:00-08:30",plan:"free time",state:"1"},{hour:"08:30-09:00",plan:"free time",state:"3"},{hour:"09:00-08:30",plan:"free time",state:"1"},{hour:"10:30-09:00",plan:"free time",state:"1"},{hour:"11:00-08:30",plan:"free time",state:"1"},{hour:"12:00-08:30",plan:"free time",state:"1"},{hour:"13:30-09:00",plan:"free time",state:"1"},{hour:"14:00-08:30",plan:"free time",state:"1"}]}}]),angular.module("Skillopedia").controller("messagesController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("listController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("indexController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("fillinorderController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("favouriteController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("detailController",["$scope","errorServices","toastServices","localStorageService","config",function(e){e.calendar={times:[{hour:"00:00-08:30",plan:"free time",state:"1"},{hour:"08:30-09:00",plan:"free time",state:"3"},{hour:"09:00-08:30",plan:"free time",state:"1"},{hour:"10:30-09:00",plan:"free time",state:"1"},{hour:"11:00-08:30",plan:"free time",state:"1"},{hour:"12:00-08:30",plan:"free time",state:"1"},{hour:"13:30-09:00",plan:"free time",state:"1"},{hour:"14:00-08:30",plan:"free time",state:"1"}]}}]),angular.module("Skillopedia").controller("createStepController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("createCourseController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("coursesController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("couponExpiredController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("couponsController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("contactController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("commentsController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("coachController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("authenicationController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("accountController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").controller("aboutController",["$scope","errorServices","toastServices","localStorageService","config",function(){}]),angular.module("Skillopedia").directive("calendar",["$filter",function(e){return{restrict:"E",templateUrl:"templates/calendar.html",scope:{calendar:"="},link:function(o){o.calendar=angular.extend({},o.calendar),o.calendar.day=e("date")(new Date);var r=$(".calendar-day").pickadate(),t=r.pickadate("picker");t.on({set:function(){var e=t.get();o.$apply(function(){o.calendar.day=e||o.calendar.day})}}),o.pickadate=function(e){t.open(),e.stopPropagation(),e.preventDefault()},"edit"==o.calendar.mode&&(o.calendar.selected=[],o.select=function(e,r){var t=r+1;if(t=t>o.calendar.times.length-1?o.calendar.times.length-1:t,r!=t&&1==e.state&&1==o.calendar.times[t].state){e.state=2;var l={from:e,to:o.calendar.times[t]};o.calendar.times[t].state=2,o.calendar.selected.push(l)}},o.calendar.remove=function(e){o.calendar.selected=o.calendar.selected.filter(function(o){return o.from.hour!=e.from.hour}),o.calendar.times=o.calendar.times.map(function(o){return(o.hour==e.from.hour||o.hour==e.to.hour)&&(o.state=1),o})})}}}]),angular.module("Skillopedia").factory("tokenInterceptor",["$location","$q","localStorageService","errorServices","config",function(e,o,r,t,l){return{request:function(e){return e},requestError:function(){},response:function(t){var n=o.defer();return t.config.url.indexOf(".html")>0?t:t.data.respcode==l.request.TOKEN_INVALID?(console.log("TOKEN_INVALID"),r.remove("token"),e.path("/signIn").replace(),n.promise):t},responseError:function(e){var r=o.defer();return t.requestError(e.data,e.status,e.headers,e.config),r.promise}}}]),angular.module("Skillopedia").factory("toastServices",function(){return{show:function(){},hide:function(){}}}),angular.module("Skillopedia").factory("errorServices",["$rootScope","$timeout","toastServices",function(e,o,r){return{show:function(){},hide:function(){},autoHide:function(){},requestError:function(e,o,t,l){switch(r.hide(),o){case 0:this.autoHide("连接超时");break;case 500:case 501:case 502:case 503:case 504:case 505:case 506:case 507:case 509:case 510:this.autoHide("服务器连接出错")}console.log("onRequestError output status, data, headers, config"),console.log(o),console.log(e),console.log(t),console.log(l),console.log("onRequestError end")}}}]),angular.module("Skillopedia").factory("appServices",["$rootScope","$window","$location","errorServices","toastServices",function(e,o,r,t,l){var n=function(){},a=function(e,o,r){l.hide(),t.hide(),i(e,o,r)},c=function(){},i=function(){},s=function(){$.magnificPopup.open({items:{src:"#signin-popup"},type:"inline"},0)};return{init:function(){e.$on("$routeChangeStart",n),e.$on("$routeChangeSuccess",a),e.$on("$routeChangeError",c),e.signin=function(){e.sign="signin",s()},e.signup=function(){e.sign="signup",s()},e.forget=function(){e.sign="forget",s()},e.go=function(e){r.path(e)}}}}]),angular.module("Skillopedia").constant("config",{url:"http://",imageUrl:"http://",request:{SUCCESS:"200",TOKEN_INVALID:"405"},response:{SUCCESS:1},common_params:{},interceptor:["about","account","authenication","coach","comments","contact","coupons_expired","coupons","courses","create_course","create_step","detail","favourite","fillinorder","index","list","messages","order","order_booking","order_cancel","order_comment","order_confirm","order_finish","order_management","order_refund","orders","orders_management","privacy","schedule","services","shoppingcart","steps","steps_draft","steps_publish","support"]});
//# sourceMappingURL=app.min.js.map
